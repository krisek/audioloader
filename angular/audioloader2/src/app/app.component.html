<body>
  <header>


  <div [ngbCollapse]="isMenuCollapsed" class="collapse bg-dark" id="navbarHeader">
    <div class="container">
      <div class="row">
        <div class="col-sm-8 col-md-7 py-4">
        <!--   <h4 class="text-white"></h4> //-->
          <p class="text-muted" *ngIf="currentsong['active']">{{ currentsong['artist'] }} - {{ currentsong['album'] }} ({{currentsong['track']}}) {{ currentsong['title'] }}</p>
          <p class="text-muted" *ngIf="!currentsong['active']">not playing</p>


        </div>
        <div class="col-sm-4 offset-md-1 py-4">


          <ul class="list-unstyled">
            <li><a href="#" class="text-white" (click)="openSettings()">Settings</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="navbar navbar-dark bg-dark shadow-sm">
    <div class="container d-flex justify-content-between">
     <div>
     <span class="bg-dark text-white" type="button">dir</span> |
     <span class="bg-dark text-white" type="button">dash</span> |

     <span *ngIf="currentsong['active']">
        <span class="bg-dark text-white" type="button" *ngIf="currentsong['pause']" (click)="sendCommand('play')"><img class="mediabutton invert_colors" src="assets/play.svg" title="paused ➙ play" /></span>&nbsp;
        <span class="bg-dark text-white" type="button" *ngIf="currentsong['play']"  (click)="sendCommand('pause')"><img class="mediabutton invert_colors"   src="assets/pause.svg" title="playing ➙ pause"/></span>&nbsp;
        <span class="bg-dark text-white" type="button"  (click)="sendCommand('stop')"><img  class="mediabutton invert_colors" src="assets/stop.svg" title="stop"/></span>&nbsp;
        <span class="bg-dark text-white" type="button"  (click)="sendCommand('prev')" ><img class="mediabutton invert_colors" src="assets/next.svg"  title="prev"  style="transform: rotate(180deg);"/></span>&nbsp;
        <span class="bg-dark text-white" type="button"  (click)="sendCommand('next')"><img class="mediabutton  invert_colors" src="assets/next.svg" title="next" /></span>&nbsp;
        <span class="bg-dark text-white" *ngIf="currentsong['track']" title="{{ currentsong['artist'] }} - {{ currentsong['album'] }} ({{currentsong['track']}}) {{ currentsong['title'] }}" (click)="updateCurrentSong()">{{currentsong['track']}} - </span>
        <span class="bg-dark text-white" title="{{ currentsong['artist'] }} - {{ currentsong['album'] }} ({{currentsong['track']}}) {{ currentsong['title'] }}" (click)="updateCurrentSong()">{{ currentsong['title_short'] }}</span>
     </span>
     <span class="bg-dark text-white" *ngIf="!currentsong['active']" (click)="updateCurrentSong()">not playing</span>

     </div>

      <form class="form-inline my-2 my-lg-0">
      <img class="invert_colors" type="button" src="assets/settings.svg" title="settings" (click)="openSettings()" width="20px"/>&nbsp;&nbsp;
      <input type="text" class="form-control form-inline" placeholder="search..." name="lookfor" #lookforbox [value]="lookfor" (input)="lookfor = $event.target.value; searchItem($event.target.value)" onfocus="this.select();" onmouseup="return false;"> &nbsp;

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation" (click)="isMenuCollapsed = !isMenuCollapsed">
        <span class="navbar-toggler-icon"></span>
      </button>
      </form>
    </div>
  </div>
</header>

<main role="main">

<div class="album py-5 bg-light">
  <div class="container">
    <div class="row">
      <div class="col-sm-12" id="navarea">

        <span *ngFor="let elem of path">/<a href="#" (click)="showDir(elem.dir)">{{ elem.name }}</a></span>&nbsp;&nbsp;
        <a href="#" class="play" (click)="openModal(dir)" class="albumlink"><svg width="9px" height="9px" viewBox="0 0 31 31" xmlns="http://www.w3.org/2000/svg"><path d="M 1 1 L 1 30 L 30 15 z" fill="Black" stroke="Grey" stroke-width="2"/></svg></a>
        <span *ngIf="lookfor">&nbsp;&nbsp;|&nbsp;<a href="#" (click)="searchItem(lookfor)">{{ lookfor }}</a></span>

        <br/>
        <ng-container *ngIf="!showlist">
        <div style="max-width: 100px;" class="album-cover inline-block" *ngFor="let elem of list_dir" >
          <div class="outer_shadow">
            <div class="album-cover-frame">
              <img src="{{ servicesBasePath }}/cover?directory={{ tree_dir[elem].encoded }}" height="92" title="{{ tree_dir[elem].name }} ({{ tree_dir[elem].playhours }})" class="album-cover-img" type="button" class="btn" data-toggle="modal" data-target="#exampleModal" (click)="coverPress(tree_dir[elem].name)" />
            </div>
            <div class="album-title">
              <span class="albumlink">
              <a href="#" class="togglestar albumlink">☐</a>
              <a href="#" class="play" (click)="openModal(tree_dir[elem].name)" class="albumlink"><svg width="9px" height="9px" viewBox="0 0 31 31" xmlns="http://www.w3.org/2000/svg"><path d="M 1 1 L 1 30 L 30 15 z" fill="Black" stroke="Grey" stroke-width="2"/></svg></a>
              <a href="#" (click)="showDir(tree_dir[elem].name)" title="{{ tree_dir[elem].name }} ({{ tree_dir[elem].playhours }})" class="albumlink">{{ tree_dir[elem].short }} ({{ tree_dir[elem].playhours }})</a>
              </span>
            </div>
          </div>
        </div>
        </ng-container>
        <ng-container *ngIf="showlist">
        <span *ngFor="let initial of list_alpha">
          <b>{{ initial }}</b><br/>
        <span *ngFor="let elem of list_dir_alpha[initial]">
            <a href="#" id="togglestar" onclick="" title="mark" class="albumlink">☐</a>&nbsp;
            <a href="#" class="play" (click)="openModal(tree_dir[elem].name)" class="albumlink"><svg width="9px" height="9px" viewBox="0 0 31 31" xmlns="http://www.w3.org/2000/svg"><path d="M 1 1 L 1 30 L 30 15 z" fill="Black" stroke="Grey" stroke-width="2"/></svg></a>
              <a href="#" (click)="showDir(tree_dir[elem].name)" title="{{ tree_dir[elem].name }} ({{ tree_dir[elem].playhours }})" class="albumlink">{{ tree_dir[elem].title }} ({{ tree_dir[elem].playhours }})</a>
        </span>
        <br/>
        </span>
        </ng-container>

        <div id="files">
          <ng-container *ngIf="!dirs">
            <div class="album-cover-frame">
              <img  src="{{ servicesBasePath }}/cover?directory={{ encoded }}" height="92" title="{{ title }}" class="album-cover-img" class="album-cover-img" type="button" class="btn" data-toggle="modal" data-target="#exampleModal" (click)="openModal(dir)"/>
            </div>
            <span class="" *ngFor="let file of tree_file | keyvalue">
                <span *ngIf="file.value.duration">{{file.value.track}}  -  {{file.value.title}} ({{file.value.duration}})</span>
                <span *ngIf="!file.value.duration">{{file.value.title}}</span>
                <br/>
            </span>

          </ng-container>
        </div>



      </div>
    </div>
  </div>
</div>

</main>

<footer class="text-muted">
  <div class="container">
    <p class="float-right">
      <a href="#">Back to top</a>
    </p>
  </div>
</footer>
</body>



